<div class="viewPageBody">
    <br>
    <h2 class="lblHeader2 card-title">Purchase History</h2>
    <br>

    <!-- search funtions will need to be changed accordingly based on the type and name of componant -->
    <div class="headerSection row">
        <label class="lblInputLabel col-5" for="searchCriteria">Receipt Number:</label>
        <div class="searchBoxContainter col-7">
            <input type="text" class="inputSearchBox" placeholder="Enter receipt Number" [(ngModel)]="searchTerm"
                name="searchCriteria" (keyup)="getReceipt()">
        </div>
    </div>
    <br>

    <!-- modify table headers and rows accordingly -->
    <div class="nonViewTableContainer">
        <table class="nonViewTable table table-striped table-light table-hover">
            <thead class="thead-dark">
                <tr>
                    <th scope="col" style="width: 4%;">#</th>
                    <th scope="col">Invoice No.</th>
                    <th scope="col">Date</th>
                    <th scope="col">Payment Method</th>
                    <th scope="col">Purchased By</th>
                    <th scope="col">Status</th>
                    <th scope="col">View Invoice</th>
                </tr>
            </thead>
            <!-- rows for when api is connected and there is data being sent through successfully -->
            <tbody *ngIf="data && data.length > 0">
                <tr scope="row" *ngFor="let attribute of data, let i = index">
                    <td>{{i+1}}</td>
                    <td>{{attribute.clientInvoice.clientInvoiceNumber}}</td>
                    <td>{{attribute.clientInvoice.clientInvoiceDate | date: 'dd/MM/yyyy'}}</td>
                    <td>{{attribute.paymentType.paymentTypeName}}</td>
                    <td>{{attribute.clientUser.user.userFirstName}}</td>
                    <td>{{attribute.clientOrderStatus.clientOrderStatusName}}</td>
                    <td><button class="btn btn-primary"
                            [routerLink]="['/view-payment-history', attribute.clientOrderId]">View</button></td>
                </tr>
            </tbody>
            <!-- default row when no data in api or api is not connected -->
            <tr *ngIf="!data || data.length == 0">
                <td>#</td>
                <td>No Data</td>
                <td>No Data</td>
                <td>No Data</td>
                <td>No Data</td>
                <td>No Data</td>
                <td><button class="btn btn-secondary" disabled>View</button></td>
            </tr>
        </table>
        <button type="button" class="btnToolHelp"
            matTooltip="Payments made in the store will show up in this table.
        The user can search these records using the invoice number and view the exact details of the purchase by clicking view/"
            [matTooltipPosition]="'right'" [matTooltipShowDelay]="500" [matTooltipHideDelay]="1000"
            aria-label="Tooltip for help on purchase history">
            <P class="btnToolHelpPara">&#63;</P>
        </button>
    </div>

    <!-- this container is always for return and back button -->
    <div class="btnReturnContainer">
        <button class="btnReturn" (click)="back()">
            <P class="btnReturnText">Return</P>
        </button>
    </div>
</div>